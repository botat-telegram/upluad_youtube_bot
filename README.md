# بوت تحميل الفيديوهات من تيليجرام إلى يوتيوب

بوت تيليجرام يقوم بتحميل مقاطع الفيديو من تيليجرام ورفعها تلقائياً إلى يوتيوب.

## الميزات الرئيسية

- تحميل مقاطع الفيديو من رسائل تيليجرام العادية
- تحميل مقاطع الفيديو من روابط تيليجرام (مجموعات عامة وخاصة)
- رفع الفيديوهات إلى يوتيوب مع إمكانية اختيار قائمة التشغيل
- دعم المصادقة مع يوتيوب وتجديد توكن الوصول تلقائياً
- نظام إدارة المستخدمين (المشرفين)
- رصد المتغيرات في الملفات وإعادة تشغيل البوت تلقائياً

## هيكل المشروع

```
/
 ├── core/               # وظائف البوت الأساسية
 │   ├── telegram_bot.py # معالج البوت الرئيسي
 │   ├── telegram_utils.py # وظائف تيليجرام (التنزيل)
 │   ├── youtube_utils.py  # وظائف يوتيوب (الرفع)
 │   └── single_instance.py # وظيفة منع تشغيل نسخ متعددة
 │
 ├── utils/              # أدوات ووظائف مساعدة
 │   ├── session_manager.py # إدارة جلسات يوتيوب والتوكن
 │   ├── watcher.py      # مراقبة التغييرات في الملفات
 │   └── cleaner.py      # تنظيف الملفات المؤقتة
 │
 ├── config/             # إعدادات وملفات التكوين
 │   ├── config.py       # متغيرات الإعدادات
 │   └── token.pickle    # توكن يوتيوب
 │
 ├── data/               # مجلد البيانات
 │   ├── downloads/      # ملفات التحميل المؤقتة
 │   ├── sessions/       # جلسات تيليجرام
 │   └── credentials/    # بيانات اعتماد API
 │
 ├── logs/               # سجلات البوت
 │   └── app_logs/       # سجلات التطبيق
 │
 ├── main.py             # نقطة دخول البوت
 ├── run_bot.py          # سكريبت التشغيل مع المراقبة
 └── requirements.txt    # متطلبات المشروع
```

## التثبيت

1. قم بنسخ المستودع
```bash
git clone https://github.com/botat-telegram/upluad_youtube_bot.git
cd upluad_youtube_bot
```

2. قم بتثبيت المتطلبات
```bash
pip install -r requirements.txt
```

3. قم بتكوين ملفات الإعدادات في مجلد `config/`
   - قم بتعديل `config.py` بإعدادات البوت الخاصة بك
   - ضع ملف `client_secrets.json` الخاص بـ YouTube API في مجلد `data/credentials/`

4. قم بتشغيل البوت
```bash
python run_bot.py
```

## الاستخدام

بعد بدء تشغيل البوت، استخدم الأوامر التالية في تطبيق تيليجرام:

- `/start` - بدء استخدام البوت
- `/help` - عرض قائمة المساعدة
- `/setadmin` - تعيين مستخدم كمشرف (كلمة المرور الافتراضية: upluad-youtube-1234)
- `/auth` - بدء عملية المصادقة مع يوتيوب
- `/cancel` - إلغاء العملية الحالية

لرفع فيديو، ما عليك سوى:
1. إرسال ملف فيديو مباشرة أو رابط تيليجرام للفيديو
2. اختيار قائمة التشغيل المناسبة
3. تحديد عنوان الفيديو والوصف
4. البوت سيقوم تلقائياً بتحميل الفيديو ورفعه إلى يوتيوب

## الأدوات والتقنيات المستخدمة

- Python 3.7+
- python-telegram-bot
- Telethon API
- Google API Python Client
- Watchdog (لمراقبة الملفات)

## الميزات المتقدمة

- **التحميل من مجموعات خاصة**: يمكن للبوت تحميل الفيديوهات من المجموعات الخاصة التي يكون البوت عضواً فيها
- **تجديد التوكن التلقائي**: يقوم البوت بتجديد توكن الوصول ليوتيوب تلقائياً عند انتهاء صلاحيته
- **إعادة التشغيل التلقائي**: مراقبة التغييرات في ملفات المشروع وإعادة تشغيل البوت تلقائياً
- **تنظيف الملفات المؤقتة**: حذف الملفات المؤقتة بعد الانتهاء من الرفع لتوفير مساحة التخزين